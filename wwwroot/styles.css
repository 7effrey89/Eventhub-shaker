/* Mobile-first styling */
:root {
  --bg: #0f172a;
  --card-bg: #1e293b;
  --accent: #3b82f6;
  --accent-grad: linear-gradient(135deg,#3b82f6,#6366f1);
  --danger: #dc2626;
  --success: #10b981;
  --text: #f1f5f9;
  --muted: #94a3b8;
  --radius: 18px;
  --shadow: 0 8px 24px -6px rgba(0,0,0,.5);
  --trans: 0.25s cubic-bezier(.4,.0,.2,1);
}
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif; background: var(--bg); color: var(--text); }

.container { max-width: 640px; margin: 0 auto; padding: clamp(1rem,4vw,2rem); }
header { text-align:center; margin-bottom:1.5rem; }
header h1 { margin:0; font-size: clamp(1.8rem,6vw,2.4rem); background: var(--accent-grad); -webkit-background-clip:text; color:transparent; }
.subtitle { margin:.5rem 0 0; color: var(--muted); font-size:.95rem; }

.card { background: var(--card-bg); border:1px solid #334155; border-radius: var(--radius); padding:1.25rem 1.2rem 1.4rem; box-shadow: var(--shadow); margin-bottom:1.2rem; position:relative; overflow:hidden; }
.card h2, .card h3 { margin-top:0; font-weight:600; letter-spacing:.5px; }

form { display:flex; flex-direction:column; gap:1rem; }
.form-group { display:flex; flex-direction:column; gap:.35rem; }
.form-group label { font-size:.85rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color: var(--muted); }
.form-group input { padding:.85rem .9rem; border-radius:12px; border:1px solid #475569; background:#0f1c30; color:var(--text); font-size:1rem; }
.form-group input:focus { outline:2px solid var(--accent); outline-offset:1px; }

.btn { cursor:pointer; border:none; font-weight:600; letter-spacing:.5px; padding:.85rem 1.15rem; border-radius:14px; font-size:.9rem; display:inline-flex; align-items:center; gap:.5rem; transition: var(--trans); }
.btn-primary { background: var(--accent-grad); color:#fff; }
.btn-primary:active { transform:scale(.96); }
.btn-secondary { background:#475569; color:#fff; }
.btn-secondary:active { transform:scale(.96); }
.btn-danger { background: var(--danger); color:#fff; }
.btn-danger:active { transform:scale(.96); }

.action-buttons { display:flex; flex-wrap:wrap; gap:.75rem; margin-top:1rem; }

.status-section p { margin:.35rem 0; font-size:.9rem; }
.status-section span { font-weight:600; }

.metrics-section { margin-top:.75rem; }
.metric-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(130px,1fr)); gap:.65rem; }
.metric { background:#0f1c30; padding:.7rem .75rem; border-radius:12px; border:1px solid #1e293b; display:flex; flex-direction:column; gap:.15rem; position:relative; }
.metric label { font-size:.65rem; font-weight:700; text-transform:uppercase; color: var(--muted); letter-spacing:.6px; }
.metric span { font-size:1.05rem; font-weight:600; }

.event-log { display:flex; flex-direction:column-reverse; max-height:220px; overflow-y:auto; padding:.4rem .4rem .2rem; gap:.4rem; scrollbar-width:thin; }
.event-log::-webkit-scrollbar { width:6px; }
.event-log::-webkit-scrollbar-track { background:#0f1c30; }
.event-log::-webkit-scrollbar-thumb { background:#334155; border-radius:3px; }

.log-success { background:#065f46; color:#d1fae5; padding:.55rem .7rem; border-radius:10px; font-size:.72rem; }
.log-error { background:#7f1d1d; color:#fee2e2; padding:.55rem .7rem; border-radius:10px; font-size:.72rem; }
.log-info { background:#1e3a8a; color:#bfdbfe; padding:.55rem .7rem; border-radius:10px; font-size:.72rem; }

#monitorCard { animation: fadeSlide .5s ease; }
@keyframes fadeSlide { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

/* Shake highlight */
.shake-flash { animation: flash 0.6s ease; }
@keyframes flash { 0% { box-shadow:0 0 0 0 rgba(59,130,246,.8); } 100% { box-shadow:0 0 0 25px rgba(59,130,246,0); } }

/* Responsive spacing tweaks */
@media (min-width:600px){ .metric-grid { grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); } }

/* Safe area for iOS */
body { padding-bottom: env(safe-area-inset-bottom); }

/* Settings button */
header { position:relative; }
.settings-btn { position:absolute; top:0; right:0; background:#334155; border:none; width:42px; height:42px; border-radius:50%; font-size:1.3rem; cursor:pointer; transition: var(--trans); display:flex; align-items:center; justify-content:center; }
.settings-btn:hover { background:#475569; transform:rotate(45deg); }
.settings-btn:active { transform:scale(.9); }

/* Modal */
.modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,.85); z-index:9999; display:flex; align-items:center; justify-content:center; padding:1rem; animation: fadeIn .3s ease; }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

.modal-content { background: var(--card-bg); border:1px solid #334155; border-radius: var(--radius); max-width:600px; width:100%; max-height:90vh; overflow-y:auto; box-shadow:0 20px 60px rgba(0,0,0,.8); animation: slideUp .3s ease; }
@keyframes slideUp { from { opacity:0; transform:translateY(30px); } to { opacity:1; transform:translateY(0); } }

.modal-header { display:flex; align-items:center; justify-content:space-between; padding:1.2rem 1.4rem; border-bottom:1px solid #334155; }
.modal-header h2 { margin:0; font-size:1.3rem; }

.close-btn { background:transparent; border:none; color: var(--muted); font-size:2rem; cursor:pointer; line-height:1; padding:0; width:32px; height:32px; display:flex; align-items:center; justify-content:center; border-radius:8px; transition: var(--trans); }
.close-btn:hover { background:#475569; color:var(--text); }

.modal-body { padding:1.4rem; }
.modal-description { margin:0 0 1.2rem; color: var(--muted); font-size:.9rem; }

.modal-body textarea { width:100%; padding:.85rem .9rem; border-radius:12px; border:1px solid #475569; background:#0f1c30; color:var(--text); font-size:.85rem; font-family:monospace; resize:vertical; }
.modal-body textarea:focus { outline:2px solid var(--accent); outline-offset:1px; }

.form-hint { display:block; margin-top:.4rem; font-size:.75rem; color: var(--muted); font-style:italic; }

.modal-status { margin:1rem 0; padding:.75rem; border-radius:10px; font-size:.85rem; display:none; }
.modal-status.success { display:block; background:#065f46; color:#d1fae5; }
.modal-status.error { display:block; background:#7f1d1d; color:#fee2e2; }
.modal-status.info { display:block; background:#1e3a8a; color:#bfdbfe; }

.modal-actions { display:flex; gap:.75rem; flex-wrap:wrap; }

/* QR Code Section */
.modal-divider { border:none; border-top:1px solid #334155; margin:1.5rem 0; }

.qr-section h3 { font-size:1.1rem; margin-bottom:.5rem; }

.qr-container { display:flex; justify-content:center; padding:1rem; background:#fff; border-radius:12px; margin:1rem 0; }
.qr-container canvas { max-width:100%; height:auto; }

.share-url-section { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.share-url-label { font-size:.85rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color: var(--muted); flex-shrink:0; }
.share-url-input { flex:1; min-width:200px; padding:.6rem .75rem; border-radius:10px; border:1px solid #475569; background:#0f1c30; color:var(--text); font-size:.8rem; font-family:monospace; }
.share-url-input:focus { outline:2px solid var(--accent); outline-offset:1px; }

.btn-sm { padding:.6rem .9rem; font-size:.85rem; }

